<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>query parse</title>
</head>
<body>

/**
* --- 题目描述 ---
*
* 实现一个函数，可以对 url 中的 query 部分做拆解，返回一个 key: value 形式的 object
*
* --- 实例 ---
*
* 输入：'http://sample.com/?a=1&e&b=2&c=xx&d#hash'
* 输出：{a: 1, b: 2, c: 'xx', d: ''}
*/

<script>
    function parse(url) {
        const matched = url.match(/(?<=[&?])(\w+(=\w+)*)/g)
        const initData = matched.map(str => {
            const kv = str.split('=')
            return kv.length === 2 ? kv : [kv[0], '']
        })
        return Object.fromEntries(new Map(initData))
    }
    console.log(parse('https://sample.com/?a=1&e&b=2&c=xx&d#hash'))
</script>
</body>

</html>